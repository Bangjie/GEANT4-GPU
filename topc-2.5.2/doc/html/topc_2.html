<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<!-- Created on October, 6  2004 by texi2html 1.65 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>TOP-C (Task Oriented Parallel C/C++): Quick Start</TITLE>

<META NAME="description" CONTENT="TOP-C (Task Oriented Parallel C/C++): Quick Start">
<META NAME="keywords" CONTENT="TOP-C (Task Oriented Parallel C/C++): Quick Start">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.65">

</HEAD>

<BODY LANG="en" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC2"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_1.html#SEC1"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_3.html#SEC3"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_1.html#SEC1"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_3.html#SEC3"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_14.html#SEC62">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> 2. Quick Start: Installation and Test Run </H1>
<!--docid::SEC2::-->
<P>

<TABLE><tr><td>&nbsp;</td><td class=display><pre style="font-family: serif">   This is version 2.5.0 of Task Oriented Parallel C/C++ (`<SAMP>TOP-C</SAMP>').
   See <A HREF="http://www.ccs.neu.edu/home/gene/topc.html">http://www.ccs.neu.edu/home/gene/topc.html</A> for general
   information on obtaining source, overview slides of `<SAMP>TOP-C</SAMP>',
   previous `<SAMP>TOP-C</SAMP>' applications, etc.
                                                      Gene Cooperman
                                                      <A HREF="mailto:gene@ccs.neu.edu">gene@ccs.neu.edu</A>
</pre></td></tr></table></P><P>

It has been tested and works on several workstation
architectures.  It provides task-oriented parallelism to the end user.
The same application source code (or object code) can be executed
(or linked) with any of the following communication libraries
using the topcc command (a substitute for cc or gcc):
<OL>
<LI>a distributed memory library using MPI
    (MPI subset, mpinu, included in distribution); or
<LI>a shared memory library using threads; or
<LI>a single-process sequential library
    (useful for development and debugging).
</OL>
The `<SAMP>TOP-C</SAMP>' model has been successfully used for some very large
computations.
<P>

To unpack:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  gunzip topc.tar.gz
  tar xvf topc.tar
  cd topc
  ./configure
  make
</pre></td></tr></table></P><P>

If you are impatient, you can immediately do:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  cd bin
  make parfactor
</pre></td></tr></table>and see a demonstration for factoring numbers by a Euclidean sieve.
Then try:  <CODE>./a.out <VAR>YOUR_NUMBER</VAR></CODE><BR>
Read bin/Makefile for an example of compiling a `<SAMP>TOP-C</SAMP>' program.
</P><P>

If you want to use more or different slave processes, modify
`<TT>bin/procgroup</TT>'.
Then, again:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  cd bin
  ./a.out <VAR>YOUR_NUMBER</VAR>
</pre></td></tr></table></P><P>

And compare with your results using a single slave process:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  ./a.out --TOPC-num-slaves=1 YOUR_NUMBER
</pre></td></tr></table>Or investigate what other command-line TOP-C options are available for a.out.
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  ./a.out --TOPC-help
</pre></td></tr></table></P><P>

Other TOP-C applications besides parfactor are in the directory
`<TT>../examples</TT>'.  For example, if you would like to try
`<TT>parquicksort.c</TT>', then from the `<TT>bin</TT>' directory, try:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  make check TEST_FILE=parquicksort
</pre></td></tr></table></P><P>

When you write your own `<SAMP>TOP-C</SAMP>' application, `<TT>app.c</TT>', make
sure that it contains <CODE>#include &#60;topc.h&#62;</CODE> at the top, and that you
have a procgroup file in the current directory, and then:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  bin/topcc --mpi -o app app.c
  # or else:  bin/topc++ --mpi -o app app.cc
  ./app
</pre></td></tr></table>`<TT>topcc</TT>' is a wrapper for your standard C compiler.  It accepts all
the standard compiler command line options, plus a few more.
`<TT>topc++</TT>' also exists.  [NOTE: <CODE>bin/topcc --help</CODE> and
<CODE>bin/topc++ --help</CODE> both work and `<TT>doc/topcc.1</TT>' exists ]
</P><P>

This might be a good point to download and print at least the first half
of the manual, or else make it from the doc directory (<CODE>cd doc;
make pdf; make ps</CODE>).  Note that the table of contents may appear at the
end of the documentation after the index.  See <A HREF="topc_11.html#SEC59">A. Summary of `<SAMP>TOP-C</SAMP>' Commands</A>, for a list of the
`<SAMP>TOP-C</SAMP>' commands.  See <A HREF="topc_12.html#SEC60">B. Example `<SAMP>TOP-C</SAMP>' Application</A>, for a simple `<SAMP>TOP-C</SAMP>'
example application involving only trivial parallelism.  The
`<TT>examples</TT>' subdirectory provides more detailed examples.
A tutorial is available from the web page,
<A HREF="http://www.ccs.neu.edu/home/gene/topc.html">http://www.ccs.neu.edu/home/gene/topc.html</A>.
</P><P>

Finally, if you want to install `<SAMP>TOP-C</SAMP>' permanently, type
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  ./configure                 # Install in /usr/local
  ./configure --prefix=$HOME  # Install in home directory
  make install
</pre></td></tr></table></P><P>

This adds a man page, an info file (try <CODE>info topc</CODE>), etc. HTML
documentation is available in the `<TT>doc</TT>' subdirectory of the
`<SAMP>TOP-C</SAMP>' distribution.  By default, `<SAMP>TOP-C</SAMP>' will install in
`<TT>/usr/local</TT>', requiring root privilege.  If you configure
<CODE>--prefix=$HOME</CODE>,
`<SAMP>TOP-C</SAMP>' will create files in `<TT>$HOME/bin</TT>', `<TT>$HOME/lib</TT>',
`<TT>$HOME/include</TT>', `<TT>$HOME/man</TT>' and `<TT>$HOME/info</TT>'.
If you want to make `<SAMP>TOP-C</SAMP>' with <CODE>cc</CODE> instead of <CODE>gcc</CODE>, type:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  env CC=cc ./configure --cache-file=/dev/null
</pre></td></tr></table><CODE>CFLAGS</CODE>, <CODE>CXX</CODE> (for <CODE>topc++</CODE> and
<CODE>CXXFLAGS</CODE> can also be set.
For other configuration options, type:
<TABLE><tr><td>&nbsp;</td><td class=example><pre>  ./configure --help
</pre></td></tr></table></P><P>

Please write the author, Gene Cooperman (<A HREF="mailto:gene@ccs.neu.edu">gene@ccs.neu.edu</A>), if
there are any questions.
</P><P>

<A NAME="Overview"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_1.html#SEC1"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_3.html#SEC3"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_14.html#SEC62">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="topc_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
by <I>Gene Cooperman</I> on <I>October, 6  2004</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>
</FONT>

</BODY>
</HTML>
