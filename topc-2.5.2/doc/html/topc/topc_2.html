<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on April, 15 2011 by texi2html 1.78 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>

-->
<head>
<title>TOP-C (Task Oriented Parallel C/C++): 2. Quick Start: Installation and Test Run</title>

<meta name="description" content="TOP-C (Task Oriented Parallel C/C++): 2. Quick Start: Installation and Test Run">
<meta name="keywords" content="TOP-C (Task Oriented Parallel C/C++): 2. Quick Start: Installation and Test Run">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.78">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Quick-Start"></a>
<a name="SEC2"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="topc_1.html#SEC1" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="topc_3.html#SEC3" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="topc_1.html#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="topc.html#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="topc_3.html#SEC3" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="topc.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="topc_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="topc_14.html#SEC62" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="topc_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 2. Quick Start: Installation and Test Run </h1>

<table><tr><td>&nbsp;</td><td><pre class="display">   This is version 2.5.2 of Task Oriented Parallel C/C++ (&lsquo;<samp>TOP-C</samp>&rsquo;).
   See <a href="http://www.ccs.neu.edu/home/gene/topc.html">http://www.ccs.neu.edu/home/gene/topc.html</a> for general
   information on obtaining source, overview slides of &lsquo;<samp>TOP-C</samp>&rsquo;,
   previous &lsquo;<samp>TOP-C</samp>&rsquo; applications, etc.
                                                      Gene Cooperman
                                                      <a href="mailto:gene@ccs.neu.edu">gene@ccs.neu.edu</a>
</pre></td></tr></table>

<p>It has been tested and works on several workstation
architectures.  It provides task-oriented parallelism to the end user.
The same application source code (or object code) can be executed
(or linked) with any of the following communication libraries
using the topcc command (a substitute for cc or gcc):
</p><ol>
<li> a distributed memory library using MPI
    (MPI subset, mpinu, included in distribution); or
</li><li> a shared memory library using threads; or
</li><li> a single-process sequential library
    (useful for development and debugging).
</li></ol>
<p>The &lsquo;<samp>TOP-C</samp>&rsquo; model has been successfully used for some very large
computations.
</p>
<p>To unpack:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  gunzip topc.tar.gz
  tar xvf topc.tar
  cd topc
  ./configure
  make
</pre></td></tr></table>

<p>If you are impatient, you can immediately do:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  cd bin
  make parfactor
</pre></td></tr></table>
<p>and see a demonstration for factoring numbers by a Euclidean sieve.
Then try:  <code>./a.out <var>YOUR_NUMBER</var></code><br>
Read bin/Makefile for an example of compiling a &lsquo;<samp>TOP-C</samp>&rsquo; program.
</p>
<p>If you want to use more or different slave processes, modify
&lsquo;<tt>bin/procgroup</tt>&rsquo;.
Then, again:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  cd bin
  ./a.out <var>YOUR_NUMBER</var>
</pre></td></tr></table>

<p>And compare with your results using a single slave process:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  ./a.out --TOPC-num-slaves=1 YOUR_NUMBER
</pre></td></tr></table>
<p>Or investigate what other command-line TOP-C options are available for a.out.
</p><table><tr><td>&nbsp;</td><td><pre class="example">  ./a.out --TOPC-help
</pre></td></tr></table>

<p>Other TOP-C applications besides parfactor are in the directory
&lsquo;<tt>../examples</tt>&rsquo;.  For example, if you would like to try
&lsquo;<tt>parquicksort.c</tt>&rsquo;, then from the &lsquo;<tt>bin</tt>&rsquo; directory, try:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  make check TEST_FILE=parquicksort
</pre></td></tr></table>

<p>When you write your own &lsquo;<samp>TOP-C</samp>&rsquo; application, &lsquo;<tt>app.c</tt>&rsquo;, make
sure that it contains <code>#include &lt;topc.h&gt;</code> at the top, and that you
have a procgroup file in the current directory, and then:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  bin/topcc --mpi -o app app.c
  # or else:  bin/topc++ --mpi -o app app.cc
  ./app
</pre></td></tr></table>
<p>&lsquo;<tt>topcc</tt>&rsquo; is a wrapper for your standard C compiler.  It accepts all
the standard compiler command line options, plus a few more.
&lsquo;<tt>topc++</tt>&rsquo; also exists.  [NOTE: <code>bin/topcc --help</code> and
<code>bin/topc++ --help</code> both work and &lsquo;<tt>doc/topcc.1</tt>&rsquo; exists ]
</p>
<p>This might be a good point to download and print at least the first half
of the manual, or else make it from the doc directory (<code>cd doc;
make pdf; make ps</code>).  Note that the table of contents may appear at the
end of the documentation after the index.  See <a href="topc_11.html#SEC59">Summary of &lsquo;<samp>TOP-C</samp>&rsquo; Commands</a>, for a list of the
&lsquo;<samp>TOP-C</samp>&rsquo; commands.  See <a href="topc_12.html#SEC60">Example &lsquo;<samp>TOP-C</samp>&rsquo; Application</a>, for a simple &lsquo;<samp>TOP-C</samp>&rsquo;
example application involving only trivial parallelism.  The
&lsquo;<tt>examples</tt>&rsquo; subdirectory provides more detailed examples.
A tutorial is available from the web page,
<a href="http://www.ccs.neu.edu/home/gene/topc.html">http://www.ccs.neu.edu/home/gene/topc.html</a>.
</p>
<p>Finally, if you want to install &lsquo;<samp>TOP-C</samp>&rsquo; permanently, type
</p><table><tr><td>&nbsp;</td><td><pre class="example">  ./configure                 # Install in /usr/local
  ./configure --prefix=$HOME  # Install in home directory
  make install
</pre></td></tr></table>

<p>This adds a man page, an info file (try <code>info topc</code>), etc. HTML
documentation is available in the &lsquo;<tt>doc</tt>&rsquo; subdirectory of the
&lsquo;<samp>TOP-C</samp>&rsquo; distribution.  By default, &lsquo;<samp>TOP-C</samp>&rsquo; will install in
&lsquo;<tt>/usr/local</tt>&rsquo;, requiring root privilege.  If you configure
<code>--prefix=$HOME</code>,
&lsquo;<samp>TOP-C</samp>&rsquo; will create files in &lsquo;<tt>$HOME/bin</tt>&rsquo;, &lsquo;<tt>$HOME/lib</tt>&rsquo;,
&lsquo;<tt>$HOME/include</tt>&rsquo;, &lsquo;<tt>$HOME/man</tt>&rsquo; and &lsquo;<tt>$HOME/info</tt>&rsquo;.
If you want to make &lsquo;<samp>TOP-C</samp>&rsquo; with <code>cc</code> instead of <code>gcc</code>, type:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  env CC=cc ./configure --cache-file=/dev/null
</pre></td></tr></table>
<p><code>CFLAGS</code>, <code>CXX</code> (for <code>topc++</code> and
<code>CXXFLAGS</code> can also be set.
For other configuration options, type:
</p><table><tr><td>&nbsp;</td><td><pre class="example">  ./configure --help
</pre></td></tr></table>

<p>Please write the author, Gene Cooperman (<a href="mailto:gene@ccs.neu.edu">gene@ccs.neu.edu</a>), if
there are any questions.
</p>
<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="topc_1.html#SEC1" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="topc_3.html#SEC3" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="topc.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="topc_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="topc_14.html#SEC62" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="topc_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Gene Cooperman</em> on <em>April, 15 2011</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.78</em></a>.
 </font>
 <br>

</p>
</body>
</html>
