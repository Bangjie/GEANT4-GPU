\documentclass[12pt]{article}

% Packages
\usepackage[margin=1.2in]{geometry}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{titling}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{makecell}
\usepackage{caption}
\usepackage{array}
\captionsetup[table]{skip=2pt}
% Comments --------------------------------------------------------------------
\usepackage{xcolor}
\newif\ifcomments\commentstrue
\ifcomments \newcommand{\authornote}[3]{\textcolor{#1}{[#3 ---#2]}}
\newcommand{\todo}[1]{\textcolor{red}{[TODO: #1]}} \else
\newcommand{\authornote}[3]{} \newcommand{\todo}[1]{} \fi
\newcommand{\wss}[1]{\authornote{magenta}{SS}{#1}}
\newcommand{\ds}[1]{\authornote{blue}{DS}{#1}}
% End Comments ---------------------------------------------------------------
\setlength{\parindent}{0pt}

% Title Page -----------------------------------------------------------------
\title{
\LARGE GEANT-4 GPU Port:
\\\vspace{10mm}
\large \textbf{Design Document: Detailed Design}
\vspace{40mm}
}
\author{
\textbf{Team 8}
\\Stuart Douglas -- dougls2
\\Matthew Pagnan -- pagnanmm
\\Rob Gorrie -- gorrierw
\\Victor Reginato -- reginavp
\vspace{10mm}
}
\date{\vfill \textbf{Detailed Design: Version 0}\\ \today}
% End Title Page -------------------------------------------------------------


% ============================== BEGIN DOCUMENT ============================= %
\begin{document}
\pagenumbering{gobble} % start numbering after TOC

% ============================== Title Page ============================= %
\maketitle
\newpage

% ================================= TOC ================================= %
\renewcommand{\contentsname}{Table of Contents}
\tableofcontents
\newpage
\pagenumbering{arabic}

\section{Introduction}
\subsection{Revision History}
All major edits to this document will be recorded in the table below.

\begin{table}[h]
\centering
\caption{Revision History}\label{Table_Revision}
\begin{tabular}{lll}

\toprule
\bf Description of Changes & \bf Author & \bf Date\\\midrule
Set up sections and filled out Introduction section & Matthew & 2015-12-15\\
\bottomrule
\end{tabular}
\end{table}

\subsection{Note About G4 variables}
Geant4 uses its own basic types for standard C++ types (G4int, G4bool, G4double, etc). These types are currently just \texttt{typedefs} to the respective type as defined in the system libraries.

\subsection{Document Structure \& Template}
The design documentation for the project is based off of templates from WHAT TEMPLATES??????, and is broken into two main documents.\\

The system architecture document details the system architecture, including an overview of the modules that make up the system, analysis of aspects that are likely and unlikely to change, reasoning behind the high-level decisions, and a table showing how each requirement is addressed in the proposed design.\\

This detailed design document covers the specifics of several key modules in the project. For each module, an MIS is given fully detailing the interface of the module. Then, the methods for handling errors within the module are discussed, and finally the main algorithms and data structures used by the module are presented.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ----- NeutronHPDataPoint
\section{NeutronHPDataPoint}

\subsection{MIS (Module Interface Specification)}
\subsubsection{Interface Syntax}% ================ Victor
\begin{table}[H]
\begin{tabular}{| p{0.25\textwidth} | p{0.25\textwidth} | p{0.25\textwidth} |  p{0.25\textwidth} |}
\hline
\bf Routine Name & \bf Input & \bf Output & \bf Exceptions \\ \hline
G4NeutronHPDataPoint &  &  &  \\ \hline
G4NeutronHPDataPoint & G4double, G4double &  & \\ \hline
operator(REVISE THIS) & G4NeutronHPDataPoint &  & \\ \hline
GetEnergy & & G4double &  \\ \hline
GetXsection & & G4double &  \\ \hline
SetEnergy & G4double & & \\ \hline
SetXsection & G4double & & \\ \hline
GetX & & G4double &  \\ \hline
GetY & & G4double &  \\ \hline
SetX & G4double & & \\ \hline
SetY & G4double & & \\ \hline
SetData & G4double, G4double & &\\ \hline
\end{tabular}
\end{table}

\subsubsection{Exported Access Programs}% ============ Rob

\subsubsection{Interface Semantics}

\subsubsection{State Variables}% ================== Matt
\begin{itemize}
\item energy : G4Double
\item xSec : G4Double
\end{itemize}

\subsubsection{Environment Variables}% ============== Matt
There are no environment variables for this Module.

\subsubsection{Assumption}% ==================== Stuart	

\subsubsection{Access Program Semantics}% =========== Victor

\subsection{Error Handling}

\subsection{Key Algorithms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ---- NeutronHPDataPoint


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ----- NeutronHPVector
\section{NeutronHPVector}

\subsection{MIS (Module Interface Specification)}
\subsubsection{Interface Syntax}% ================ Victor
%\begin{table}[h]
\begin{longtable}{| p{0.25\textwidth} | p{0.25\textwidth} | p{0.25\textwidth} |  p{0.25\textwidth} |}
\hline
\bf Routine Name & \bf Input & \bf Output & \bf Exceptions \\ \hline
G4NeutronHPVector & & & \\ \hline
G4NeutronHPVector & G4int & & \\ \hline
SetVerbose & G4int & & \\ \hline
Times &G4double & & \\ \hline
SetPoint  &G4int, G4NeutronHPDataPoint & & \\ \hline
SetData & G4int, G4double,G4double& & \\ \hline
SetX & G4int, G4double & & \\ \hline
SetEnergy & G4int, G4double & & \\ \hline
SetY & G4int, G4double & & \\ \hline
SetXsec & G4int, G4double & & \\ \hline
GetEnergy & G4int & G4double & \\ \hline
GetXsec & G4int & G4double & \\ \hline
GetXsec & G4double & G4double & \\ \hline
GetXsec & G4double,G4int & G4double & \\ \hline
GetX & G4int & G4double & \\ \hline
GetY & G4double & G4double & \\ \hline
GetY & G4int & G4double & \\ \hline
GetVectorLength & & G4int & \\ \hline
GetPoint & G4int & const G4NeutronHPDataPoint \& & \\ \hline
Hash & & & \\ \hline
ReHash & & & \\ \hline
InitInterpolation & istream & & \\ \hline
Init & istream,G4int, G4double, G4double& & \\ \hline
Init & istream, G4double,G4double & & \\ \hline
ThinOut & G4double & & \\ \hline
SetLabel & G4double & & \\ \hline
GetLabel & & G4double & \\ \hline
CleanUp & & & \\ \hline
Sample & & G4double & \\ \hline
Debug & & G4double * & \\ \hline
Merge & G4NeutronHPVector *,  G4NeutronHPVector *& & \\ \hline
Merge & G4InterpolationScheme, & & \\ 
&  G4double,  & & \\
& G4NeutronHPVector *,  & & \\
& G4NeutronHPVector * & & \\ \hline
SampleLin & & G4double & \\ \hline
IntegrateAndNormalise & & & \\ \hline
Integrate & & & \\ \hline
GetIntegral & & G4double & \\ \hline
SetInterpolation- Manager & const G4InterpolationManager \& & & \\ \hline
SetInterpolation- Manager & G4InterpolationManager \& & & \\ \hline
G4Interpolation- Manager & & const G4Interpolation- Manager  \& & \\ \hline
SetScheme & G4int,const G4InterpolationScheme \& & & \\ \hline
GetScheme & G4int & G4InterpolationScheme & \\ \hline
GetMeanX & & G4double & \\ \hline
GetBlocked & & vector\textless G4double\textgreater & \\ \hline
GetBuffered & & vector\textless G4double\textgreater & \\ \hline
Get15percentBorder & & G4double & \\ \hline
Get50percentBorder & & G4double & \\ \hline
Check & G4int & & G4HadronicException \\ \hline
IsBlocked & G4double & G4bool & \\ \hline
\end{longtable}
%\end{table}

\subsubsection{Exported Access Programs}% ============ Rob

\subsubsection{Interface Semantics}

\subsubsection{State Variables}% ================== Matt
\begin{itemize}
\item G4NeutronHPInterPolator : theLine
\item totalIntegral : G4double
\item G4NeutronHPDataPoint * : theData
\item G4InterpolationManager : theManager
\item G4double * : theIntegral
\item G4int : nEntries
\item G4int : nPoints
\item G4double : label
\item G4NeutronInterpolator : theInt
\item G4int : Verbose
\item G4int : isFreed
\item G4NeutronHPHash : theHash
\item G4double : maxValue
\item vector\textless G4double\textgreater : theBlocked
\item vector\textless G4double\textgreater : theBuffered
\item G4double : the15percentBorderCash
\item G4double : the50percentBorderCash
\end{itemize}

\subsubsection{Environment Variables}% ============== Matt
There are no environment variables for this Module.

\subsubsection{Assumption}% ==================== Stuart	

\subsubsection{Access Program Semantics}% =========== Victor

\subsection{Error Handling}

\subsection{Key Algorithms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ---- NeutronHPVector

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ----- Cmake Files
\section{CMake Files}

\subsection{MIS (Module Interface Specification)}
\subsubsection{Interface Syntax}% ================ Victor
\begin{tabular}{| p{0.25\textwidth} | p{0.25\textwidth} | p{0.25\textwidth} |  p{0.25\textwidth} |}
\hline
\bf Routine Name & \bf Input & \bf Output & \bf Exceptions \\ \hline
%cmake_minimum_required & \big[VERSION\big], \big[FATAL_ERROR\big]& & \\ \hline
\end{tabular}

\subsubsection{Exported Access Programs}% ============ Rob

\subsubsection{Interface Semantics}

\subsubsection{State Variables}% ================== Matt
\begin{itemize}
\item useCuda : Bool
\end{itemize}

\subsubsection{Environment Variables}% ============== Matt
\begin{itemize}
\item NeutronHPVectorGPU.cu : cuda file with GPU code
\end{itemize}


\subsubsection{Assumption}% ==================== Stuart	

\subsubsection{Access Program Semantics}% =========== Victor

\subsection{Error Handling}

\subsection{Key Algorithms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% ---- Cmake Files

\end{document}
