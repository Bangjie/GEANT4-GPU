\documentclass[12pt]{article}

% Packages
\usepackage[margin=1.2in]{geometry}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{titling}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{makecell}
\usepackage{caption}
\usepackage{array}
\usepackage{placeins}
\lstset{basicstyle=\small\ttfamily,xleftmargin=18pt,breaklines=true}
\captionsetup[table]{skip=2pt}
% Comments --------------------------------------------------------------------
\usepackage{xcolor}
\newif\ifcomments\commentstrue
\ifcomments \newcommand{\authornote}[3]{\textcolor{#1}{[#3 ---#2]}}
\newcommand{\todo}[1]{\textcolor{red}{[TODO: #1]}} \else
\newcommand{\authornote}[3]{} \newcommand{\todo}[1]{} \fi
\newcommand{\wss}[1]{\authornote{magenta}{SS}{#1}}
\newcommand{\ds}[1]{\authornote{blue}{DS}{#1}}
\newcommand{\mmp}[1]{\authornote{green}{MP}{#1}}

\newcounter{TestCounter}
\setcounter{TestCounter}{0}
% End Comments ---------------------------------------------------------------

\setlength\parindent{0pt} % Cleaner look


\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

% Title Page -----------------------------------------------------------------
\title{
\LARGE GEANT4 GPU Port:
\\\vspace{10mm}
\large \textbf{Test Report}
\vspace{40mm}
}
\author{
Stuart Douglas -- dougls2
\\Matthew Pagnan -- pagnanmm
\\Rob Gorrie -- gorrierw
\\Victor Reginato -- reginavp
\vspace{10mm}
}
\date{\vfill \textbf{Version 0}\\ \today}
% End Title Page -------------------------------------------------------------

% ============================== BEGIN DOCUMENT ============================= %
\begin{document}
\pagenumbering{gobble} % start numbering after TOC

% ============================== Title Page ============================= %
\maketitle
\newpage

% ================================= TOC ================================= %
\newgeometry{bottom=1.1in, top=1.1in}
\tableofcontents
\newpage
\pagenumbering{arabic}
\restoregeometry

% =============================== Section =============================== %
\section*{Revision History}
All major edits to this document will be recorded in the table below.

\begin{table}[h]
\centering
\caption{Revision History}\label{Table_Revision}
\begin{tabular}{lll}
\toprule
\bf Description of Changes & \bf Author & \bf Date\\\midrule
Initial draft of document & Matt, Stuart, Rob, Victor  & 2016-03-15\\
\bottomrule
\end{tabular}
\end{table}

% =============================== Section =============================== %
\section*{List of Figures}

\section*{Definitions and Acronyms} % Matt
\begin{table}[h]
\centering
\caption{Definitions and Acronyms}
\begin{tabularx}{\textwidth}{l|X}
\Xhline{2\arrayrulewidth}
\bf Term & \bf Description\\
\hline
GEANT4 & Open-source software toolkit used to simulate the passage of particles through matter\\\hline
GEANT4-GPU & GEANT4 with some computations running on the GPU\\\hline
GPU & Graphics processing unit, well-suited to parallel computing tasks\\\hline
CPU & Computer processing unit, general computer processor well-suited to serial tasks\\\hline
CUDA & Parallel computing architecture for general purpose programming on GPU, developed by NVIDIA\\\hline
RHEL & Red Hat Enterprise Linux Server\\\hline
OS X & Operating system developed by Apple\\
\Xhline{2\arrayrulewidth}
\end{tabularx}
\end{table}


% =============================== Section =============================== %
\section{Introduction}
\subsection{Purpose of the Document}
This document summarizes the testing and test conclusions of GEANT4-GPU. This document uses the implementation outlined in the test plan.
\subsection{Scope of the Testing}
\subsection{Organization}
In Section 4 we provide an introduction to this report. Section 5 describes the test cases which are carried out on each function. Section 6 describes system test cases that were carried out by our team. In section 7 traceability matrices to requirements and modules are documented. Section 8 provides a summary of changes made in response to the testing results.
\subsection{Note about Usability}
GEANT4-GPU is a back end implementation of already existing GEANT4 modules. Therefore users will not be interacting with is directly. Since there is no direct user interaction with GEANT4-GPU. There are no usability test. 

% =============================== Section =============================== %
\section{Module Unit Testing}
\subsection{Use of Automated Testing}
Our testing is semi-automated. Due to the nature of this implementation we need to recompile GEANT4-GPU from GPU to CPU in order to get the CPU results to compare against the GPU results. We have a unit test file which preforms all our unit tests and writes the results into a file. The user will then have to manually recompile GEANT4-GPU with GPU acceleration off. Once the unit test file is run again another results file is generated. The comparing of the results is automated by feeding them to an application that we created that will compare the test results against each other. The program outputs a summary of any differences between the two results, if there are any.
%from .cu
\subsection{PerformInitialization}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{OperatorEquals}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetPoint}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetX}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetY}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetXsec}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SetData}
	\subsubsection{Unit Tests}
		For all unit tests ``r1" and ``r2" will be random doubles. ``n" is the length of the G4ParticleHPVector 
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{SetData_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetData_0} & SetData(-1, r1, r2) & Try to set a point at a negative index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetData_1} & SetData(0, r1. r2) & Try to set a point at a the first index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetData_2} & SetData(n/2, r1, r2) & Try to set a point at an index within the vector\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetData_3} & SetData(n-1, r1, r2) & Try to set a point at the last index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetData_4} & SetData(n, r1, r2) & Try to set a point at an index our of bounds\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{SetData_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\ref{SetData_0} & CPU time & GPU time\\
		\ref{SetData_1} & CPU time & GPU time\\
		\ref{SetData_2} & CPU time & GPU time\\
		\ref{SetData_3} & CPU time & GPU time\\
		\ref{SetData_4} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SetX}
	\subsubsection{Unit Tests}
		For all unit tests ``r1" will be a random double. ``n" is the length of the G4ParticleHPVector 
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{SetX_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetX_0} & SetX(-1, r1, r2) & Try to set a point at a negative index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetX_1} & SetX(0, r1. r2) & Try to set a point at a the first index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetX_2} & SetX(n/2, r1, r2) & Try to set a point at an index within the vector\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetX_3} & SetX(n-1, r1, r2) & Try to set a point at the last index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetX_4} & SetX(n, r1, r2) & Try to set a point at an index our of bounds\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{SetX_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\ref{SetX_0} & CPU time & GPU time\\
		\ref{SetX_1} & CPU time & GPU time\\
		\ref{SetX_2} & CPU time & GPU time\\
		\ref{SetX_3} & CPU time & GPU time\\
		\ref{SetX_4} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SetY}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Init}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{CleanUp}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SampleLin}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Integrate}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{IntegrateAndNormalise}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Times}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetXsecBuffer}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Dump}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{ThinOut}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Sample}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Check}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

%from .hh

\subsection{GetVectorLength}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetLabel}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{GetIntegral}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SetPoint}
	\subsubsection{Unit Tests}
		For all unit tests ``point" will be a random G4ParticleHPDataPoint. ``n" is the length of the G4ParticleHPVector 
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{SetPoint_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetPoint_0} & SetPoint(-1, point) & Try to set a point at a negative index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetPoint_1} & SetPoint(0, point) & Try to set a point at a the first index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetPoint_2} & SetPoint(n/2, point) & Try to set a point at an index within the vector\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetPoint_3} & SetPoint(n-1, point) & Try to set a point at the last index\\
		\stepcounter{TestCounter}\arabic{TestCounter}\label{SetPoint_4} & SetPoint(n, point) & Try to set a point at an index our of bounds\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{SetPoint_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\ref{SetPoint_0} & CPU time & GPU time\\
		\ref{SetPoint_1} & CPU time & GPU time\\
		\ref{SetPoint_2} & CPU time & GPU time\\
		\ref{SetPoint_3} & CPU time & GPU time\\
		\ref{SetPoint_4} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}
%
%\subsection{SetLabel}
%	\subsubsection{Unit Tests}
%		\begin{table}[!htbp]
%		\centering
%		\caption{Unit Tests}\label{_unit}
%		\begin{tabular}{lll}
%		\toprule
%		\bf Test \# & Code & \bf Description\\\midrule
%		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
%		\bottomrule
%		\end{tabular}
%		\end{table}
%	\subsubsection{Accuracy}
%		\begin{table}[!htbp]
%		\centering
%		\caption{Accuracy}\label{_acc}
%		\begin{tabular}{lll}
%		\toprule
%		\bf Test \# & CPU & GPU \\\midrule
%		\arabic{TestCounter} & CPU time & GPU time\\
%		\bottomrule
%		\end{tabular}
%		\end{table}
%	\subsubsection{Performance}

\subsection{SetInterpolationManager}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{SetScheme}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\stepcounter{TestCounter}\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

\subsection{Merge}
	\subsubsection{Unit Tests}
		\begin{table}[!htbp]
		\centering
		\caption{Unit Tests}\label{_unit}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & Code & \bf Description\\\midrule
		\arabic{TestCounter} & Code goes here & Description goes here\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		\bf Test \# & CPU & GPU \\\midrule
		\arabic{TestCounter} & CPU time & GPU time\\
		\bottomrule
		\end{tabular}
		\end{table}
	\subsubsection{Performance}

% =============================== Section =============================== %
\section{Specific System Tests}
\subsection{Summary of Tests Performed}
System tests will be performed by running the sample code packaged with the GEANT4 installation. The Hadr04 example will be run with different materials (i.e water, uranium) and number of events. The values and conditions that are changed per test are detailed in the table below.\\ \\

\begin{center}
\begin{longtable}{cc >{\raggedright\arraybackslash}p{2.8cm}>{\raggedright\arraybackslash}p{3cm}>{\raggedright\arraybackslash}p{4.5cm}}
\caption{System Tests}\label{Table_SystemTests}\\
\toprule

\bf Test \# & \bf Initial State & \bf Inputs & \bf Outputs & \bf Description\\\midrule
\stepcounter{TestCounter}\arabic{TestCounter} 
& Fresh start up 
& Events = 2000
Material = Water
& Same output as non-GPU GEANT4 
&  HADR04 no changes\\\midrule

\stepcounter{TestCounter}\arabic{TestCounter}
& Fresh start up 
& Events = 2000
Material = Uranium
& Same output as non-GPU GEANT4 
& HADR04 -- basic example\\\midrule

\stepcounter{TestCounter}\arabic{TestCounter}
& Fresh start up 
& Events = 600
Material = Water
& Same output as non-GPU GEANT4 
& HADR04 -- Shorter test \\\midrule

\stepcounter{TestCounter}\arabic{TestCounter}
& Fresh start up 
& Events = 600
Material = Uranium
& Same output as non-GPU GEANT4 
& HADR04 -- Shorter test \\\midrule

\stepcounter{TestCounter}\arabic{TestCounter}
& Fresh start up 
& Events = 20000
Material = Uranium
& Same output as non-GPU GEANT4 
& HADR04 -- Long simulation stress Test\\\midrule

\stepcounter{TestCounter}\arabic{TestCounter}
& Fresh start up 
& Events = 0
Material = Uranium
& Same output as non-GPU GEANT4 
& HADR04 -- no runs,  Edge case\\

\bottomrule
\end{longtable}
\end{center}
\subsection{System Tests Results}
This section will summarize all of the results from running tests 39 through 44. Each test has an accuracy section as well as a performance section. The accuracy of the results will be based on how well the values generated on the GPU match up with the values generated on the CPU. The performance metrics used will include user, system and real time required to run each  system test.

\subsection{System test \# 39}
This test simply runs the Hadr04 example on both the GPU and the CPU without changing the source files. The code for this example is bundled with the GEANT4 installation.\\
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy Test \#39}\label{_acc}
		\begin{tabular}{llll}
		\toprule
		\bf Data & CPU Values & GPU Values & Difference\\\midrule
		\bf Process Calls&&&\\
		hadElastic&NA&NA&NA\\
		nCapture&NA&NA&NA\\
		neutronInelastic&NA&NA&NA\\ 
		\bf Parcours of incident neutron&&&\\
		collisions&NA&NA&NA\\
		track length&NA&NA&NA\\
		time of flight&NA&NA&NA\\
		\bf Generated particles&&&\\
		C14&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		O16&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		O17&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		O18&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Alpha&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Deuteron&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Gamma&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Proton&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		\end{tabular}
		\end{table}
		\break
	\subsubsection{Performance}
		\begin{table}[!htbp]
		\centering
		\caption{Performance Test \#39}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		Type&CPU Time& GPU Time\\\midrule
		User&NA&NA\\
		Real&NA&NA\\
		System&NA&NA\\
		\end{tabular}
		\end{table}
\break
\subsection{System test \# 40}
This test simply runs the Hadr04 example on both the GPU and the CPU without changing the source files. The code for this example is bundled with the GEANT4 installation.\\
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy Test \#40}\label{_acc}
		\begin{tabular}{llll}
		\toprule
		\bf Data & CPU Values & GPU Values & Difference\\\midrule
		\bf Process Calls&&&\\
		hadElastic&NA&NA&NA\\
		nCapture&NA&NA&NA\\
		neutronInelastic&NA&NA&NA\\ 
		\bf Parcours of incident neutron&&&\\
		collisions&NA&NA&NA\\
		track length&NA&NA&NA\\
		time of flight&NA&NA&NA\\
		\bf Generated particles&&&\\
		U235&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		U238&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		U239&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Gamma&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Neutron&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		\end{tabular}
		\end{table}
		\break
	\subsubsection{Performance}
		\begin{table}[!htbp]
		\centering
		\caption{Performance Test \#40}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		Type&CPU Time& GPU Time\\\midrule
		User&NA&NA\\
		Real&NA&NA\\
		System&NA&NA\\
		\end{tabular}
		\end{table}
\subsection{System test \# 41}
This test simply runs the Hadr04 example on both the GPU and the CPU without changing the source files. The code for this example is bundled with the GEANT4 installation.\\
\break
	\subsubsection{Accuracy}
		\begin{table}[!htbp]
		\centering
		\caption{Accuracy Test \#41}\label{_acc}
		\begin{tabular}{llll}
		\toprule
		\bf Data & CPU Values & GPU Values & Difference\\\midrule
		\bf Process Calls&&&\\
		hadElastic&NA&NA&NA\\
		nCapture&NA&NA&NA\\
		neutronInelastic&NA&NA&NA\\ 
		\bf Parcours of incident neutron&&&\\
		collisions&NA&NA&NA\\
		track length&NA&NA&NA\\
		time of flight&NA&NA&NA\\
		\bf Generated particles&&&\\
		O16&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		O17&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		O18&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Alpha&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Gamma&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		Proton&&&\\
		\# of particles&NA&NA&NA\\
		Emean&NA&NA&NA\\
		Range&NA&NA&NA\\
		\end{tabular}
		\end{table}
		\break
	\subsubsection{Performance}
		\begin{table}[!htbp]
		\centering
		\caption{Performance Test \#41}\label{_acc}
		\begin{tabular}{lll}
		\toprule
		Type&CPU Time& GPU Time\\\midrule
		User&NA&NA\\
		Real&NA&NA\\
		System&NA&NA\\
		\end{tabular}
		\end{table}
% =============================== Section =============================== %
\section{Traceability}
The following section is used to highlight the relations of implemented test cases to requirements and modules. In doing so, we hope to draw clear reasoning upon the inclusion of such tests. 
\subsection{Requirements}
Below is a traceability table outlining test cases and the requirements they are related to:\\

\begin{center}
\begin{longtable}{>{\raggedright\arraybackslash}p{0.1\textwidth}>{\raggedright\arraybackslash}p{0.3\textwidth}>{\raggedright\arraybackslash}p{0.5\textwidth}}
\caption{Tests and Requirements Relationship}\label{Table_TestsAndRequirements}
\\\toprule
\bf Test \#  & \bf Description & \bf Requirement\\\toprule
1 & Performance test of functions & requirement\\\hline
2 & InitializeVector & requirement\\\hline
3 & SettersandGetters & requirement\\\hline
4 & GetXSec & requirement\\\hline
5 & ThinOut & requirement\\\hline
6 & Merge & requirement\\\hline
7 & Sample & requirement\\\hline
8 & GetBorder & requirement\\\hline
9 & Integral & requirement\\\hline
10 & Times & requirement\\\hline
11 & Assignment & requirement\\
\bottomrule
\end{longtable}
\end{center}
\subsection{Modules}
Similarly, the following is a traceability table explicitly relating test cases to modules:\\

\begin{center}
\begin{longtable}{>{\raggedright\arraybackslash}p{0.1\textwidth}>{\raggedright\arraybackslash}p{0.3\textwidth}>{\raggedright\arraybackslash}p{0.5\textwidth}}
\caption{Tests and Modules Relationship}\label{Table_TestsAndModules}
\\\toprule
\bf Test \#  & \bf Description & \bf Module\\\toprule
1 & Performance test of functions & module\\\hline
2 & InitializeVector & module\\\hline
3 & SettersandGetters & module\\\hline
4 & GetXSec & module\\\hline
5 & ThinOut & module\\\hline
6 & Merge & module\\\hline
7 & Sample & module\\\hline
8 & GetBorder & module\\\hline
9 & Integral & module\\\hline
10 & Times & module\\\hline
11 & Assignment & module\\
\bottomrule
\end{longtable}
\end{center}

% =============================== Section =============================== %
\section{Changes after Testing}


\end{document}
